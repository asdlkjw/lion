



  

gnbUrl = {

    "/view/introduce/intro.do" : { url : "/html/introduce/intro.html", title : "CEO 인사말 < 회사소개 < HOME"}
    , "/view/introduce/vision.do" : { url : "/html/introduce/vision.html", title : "비전 < 회사소개 < HOME"}//미사용
    , "/view/introduce/business.do" : { url :"/html/introduce/business.html", title : "사업소개 < 회사소개 < HOME"}//미사용
    , "/view/introduce/company.do" : { url :"/html/introduce/company.html", title : "회사소개 < 회사소개 < HOME"}
    , "/view/introduce/mobile.do" : { url :"/html/introduce/mobile.html", title : "통신 < 사업소개 < 회사소개 < HOME"}
    , "/view/introduce/subscription.do" : { url :"/html/introduce/subscribe.html", title : "구독 < 사업소개 < 회사소개 < HOME"}
    , "/view/introduce/digitalinfra.do" : { url :"/html/introduce/digitalinfra.html", title : "Digital Infra 서비스 < 사업소개 < 회사소개 < HOME"}
    , "/view/introduce/metaverse.do" : { url :"/html/introduce/metaverse.html", title : "메타버스 < 사업소개 < 회사소개 < HOME"}

    , "/view/introduce/media.do" : { url :"/html/introduce/media.html", title : "미디어 < 사업소개 < SK텔레콤 < HOME"}
    , "/view/introduce/security.do" : { url :"/html/introduce/security.html", title : "보안 < 사업소개 < SK텔레콤 < HOME"}
    , "/view/introduce/commerce.do" : { url :"/html/introduce/commerce.html", title : "커머스 < 사업소개 < SK텔레콤 < HOME"}
    , "/view/introduce/mobility.do" : { url :"/html/introduce/mobility.html", title : "모빌리티 < 사업소개 < SK텔레콤 < HOME"}

    , "/view/introduce/ai.do" : { url :"/html/introduce/ai.html", title : "AI < 사업소개 < 회사소개 < HOME"}
    , "/view/introduce/history.do" : { url :"/html/introduce/history.html", title : "연혁 < 회사소개 < HOME"}
    , "/view/introduce/brand.do" : { url :"/html/introduce/brand.html", title : "CI/BI < 회사소개 < HOME"}
    , "/view/introduce/sports.do" : { url :"/html/introduce/sports.html", title : "스포츠 < 회사소개 < HOME"}
    , "/view/manage/intro.do" : { url :"/html/manage/intro.html", title : "ESG추진방향 < 지속가능경영 < HOME"}
    , "/view/manage/csr.do" : { url : "/html/manage/csr.html", title : "ESG추진체계 < 지속가능경영 < HOME"}
    , "/view/manage/redconnect.do" : { url :"/html/manage/redconnect.html", title : "ICT 활용 생명나눔 < ESG추진체계 < 지속가능경영 < HOME"}
	, "/view/manage/redconnect/detail.do" : { url : "/html/manage/redconnect/detail.html", title : "레드커넥트 < ESG추진체계 < 지속가능경영 < HOME"}
    , "/view/manage/policy.do" : { url : "/html/manage/policy.html", title : "정책 < 이해관계자 참여 < 지속가능경영 < HOME"}
    , "/view/manage/framework.do" : { url : "/html/manage/procedure.html", title : "참여 Framework < 이해관계자 참여 < 지속가능경영 < HOME"}
    , "/view/manage/program.do" : { url :"/html/manage/program.html", title : "사회적 가치 프로그램 < 지속가능경영 < HOME"}//미사용 redirect
    , "/view/manage/contribute.do" : { url : "/html/manage/contribute.html", title : "파트너 협업 & 사회기여 < 지속가능경영 < HOME"}//미사용
    , "/view/investor/structure.do" : { url :"/html/investor/structure.html", title : "지배구조 < 경영정보 < 투자정보 < HOME"}
    , "/view/investor/meeting.do" : { url : "/html/investor/meeting.html", title : "주주총회 < 경영정보 < 투자정보 < HOME"}
    , "/view/investor/incorporation.do" : { url :"/html/investor/incorporation.html", title : "정관 < 경영정보 < 투자정보 < HOME"}
    , "/view/investor/highlight.do" : { url : "/html/investor/highlight.html", title : "재무하이라이트 < 재무정보 < 투자정보 < HOME"}
    , "/view/investor/creditgrade.do" : { url : "/html/investor/creditgrade.html", title : "신용등급 < 재무정보 < 투자정보 < HOME"}
    , "/view/investor/state.do" : { url : "/html/investor/state.html", title : "주주현황 < 주식정보 < 투자정보 < HOME"}
    , "/view/investor/return.do" : { url : "/html/investor/return.html", title : "주주환원 < 주식정보 < 투자정보 < HOME"}
    , "/view/investor/information.do" : { url : "/html/investor/information.html", title : "주가정보 < 주식정보 < 투자정보 < HOME"}
    , "/view/investor/lib/faq.do" : { url : "/html/investor/lib/faq.html", title : "FAQ < IR자료실 < 투자정보 < HOME"}
    , "/view/investor/subscribe.do" : { url : "/html/investor/subscribe.html", title : "IR자료요청 < IR자료실 < 투자정보 < HOME"}
    , "/view/advertise/tum.do" : { url : "/html/advertise/tum.html", title : "T.um < 미디어센터 < HOME"}
    , "/view/advertise/brand.do" : { url : "/html/advertise/brand.html", title : "브랜드 < 뉴스센터 < HOME"}//미사용 redirect
    , "/view/advertise/sports.do" : { url : "/html/advertise/sports.html", title : "스포츠 < 뉴스센터 < HOME"}//미사용 redirect
    , "/view/careers/right.do" : { url : "/html/careers/right.html", title : "인재상 < 인재채용 < HOME"}
    , "/view/careers/hr.do" : { url : "/html/careers/hr.html", title : "HR제도 < 인재채용 < HOME"}
    , "/view/careers/recruitguide.do" : { url : "/html/careers/recruitguide.html", title : "지원가이드 < 채용정보 < 인재채용 < HOME"}
    , "/view/footer/privacy.do" : { url : "/html/footer/privacy-policy-infographics.html", title : "개인정보처리방침 < HOME"}
    , "/view/footer/email-reject.do" : { url : "/html/footer/email-reject.html", title : "이메일 주소무단수집거부 < HOME"}
    , "/view/footer/wholesale.do" : { url : "/html/footer/wholesale.html", title : "도매제공이용문의 < HOME"}
    , "/view/investor/disclosure.do" : { url : "/html/investor/disclosure.html", title : "공시정보 < IR자료실 < 투자정보 < HOME"}
    , "/view/customer/suggest.do" : { url : "/html/customer/suggest.html", title : "고객제안 < 고객지원 < HOME"}

    , "/manage/lib/persist.do" : { title : "지속가능경영 자료실 < 지속가능경영 < HOME"}
    , "/manage/framework_csrSend.do" : { title : "CSR 의견 보내기 < 참여 Framework < 이해관계자 참여 < 지속가능경영 < HOME"}
    , "/investor/lib/announce.do": { title : "실적발표 < IR자료실 < 투자정보 < HOME"}
    , "/investor/lib/presentation.do": { title : "Presentation < IR자료실 < 투자정보 < HOME"}
    , "/investor/lib/breport.do": { title : "사업보고서 < IR자료실 < 투자정보 < HOME"}
    , "/investor/lib/areport.do": { title : "감사보고서 < IR자료실 < 투자정보 < HOME"}
    , "/investor/lib/creport.do": { title : "Annual Report < IR자료실 < 투자정보 < HOME"}
    , "/investor/lib/disclosure.do": { title : "분쟁광물 < IR자료실 < 투자정보 < HOME"}
    , "/investor/lib/disclosure.do": { title : "분쟁광물 < IR자료실 < 투자정보 < HOME"}
    , "/investor/lib/elec_notice.do": { title : "전자공고 < 투자정보 < HOME"}
    , "/investor/lib/elec_detail.do": { title : "전자공고 < 투자정보 < HOME"}
    , "/advertise/press.do": { title : "뉴스 < 미디어센터 < HOME"}
    , "/advertise/press_detail.do": { title : "뉴스 < 미디어센터 < HOME"}
    , "/advertise/press_popup.do": { title : "뉴스 < 미디어센터 < HOME"}
    , "/advertise/main.do": { title : "광고영상 < 미디어센터 < HOME"}
    , "/customer/notice.do": { title : "공지사항 < 고객지원 < HOME"}
    , "/customer/notice_detail.do": { title : "공지사항 < 고객지원 < HOME"}
    , "/customer/faq.do": { title : "FAQ < 고객지원 < HOME"}
    , "/customer/privacy.do": { title : "상호접속협정서 < 고객지원 < HOME"}
    , "/customer/privacy_detail.do": { title : "상호접속협정서 < 고객지원 < HOME"}
    , "/customer/calendar.do" : { title : "통화량 캘린더 < 고객지원 < HOME"}
    , "/investor/lib/IRmeeting.do": { title : "IR미팅 < 투자정보 < HOME"}//미사용
    , "/investor/lib/IRmeeting_reg.do": { title : "미팅 정보 등록 < IR미팅 < 투자정보 < HOME"}//미사용

    , "/view/visitor.do" : { url :"/html/visitor.html", title : "SK텔레콤 사옥 방문객 개인정보 처리방침 < HOME"}

};

var randomNum = "?v"+Math.floor(Math.random() * 10000) + 1;

/**
 * navi 규약
 * 1. sk 텔레콤 url 에 introduce 를 포함한다.
 *
 */
function navInit(){

    var strPath = "";
    var compPath = "";

    //1댑스 메뉴 활성화 mib2020 .is-opened 추가
    $(".gnb .menu li[class^=menu-item]").removeClass("on");
    if((location.pathname.indexOf("introduce") > 0)){
        strPath = "/html/common/gnb_nav_introduce.html"+randomNum;
        //$(".menu-item-01").addClass("on");
        $('[data-d1="d1-list01"]').addClass('is-opened');
    }else if((location.pathname.indexOf("investor") > 0)){
        strPath = "/html/common/gnb_nav_investor.html"+randomNum;
        //$(".menu-item-02").addClass("on");
        $('[data-d1="d1-list03"]').addClass('is-opened');
    }else if((location.pathname.indexOf("manage") > 0)){
        strPath = "/html/common/gnb_nav_manage.html"+randomNum;
        //$(".menu-item-03").addClass("on");
        $('[data-d1="d1-list02"]').addClass('is-opened');
    }else if((location.pathname.indexOf("advertise") > 0)){
        strPath = "/html/common/gnb_nav_advertise.html"+randomNum;
        //$(".menu-item-04").addClass("on");
        $('[data-d1="d1-list04"]').addClass('is-opened');
    }else if((location.pathname.indexOf("careers") > 0)){
        strPath = "/html/common/gnb_nav_careers.html"+randomNum;
        //$(".menu-item-05").addClass("on");
        $('[data-d1="d1-list05"]').addClass('is-opened');
    }else if((location.pathname.indexOf("customer") > 0)){
        strPath = "/html/common/gnb_nav_customer.html"+randomNum;
        //$(".menu-item-06").addClass("on");
        $('[data-d1="d1-list06"]').addClass('is-opened');
    }

    // 2뎁스 active
	var _address = location.pathname;

    $('.gnb .depth1-item li .depth2-link[href="'+_address+'"]').addClass("is-opened");
    $('.gnb .depth1-item li .depth3-link[href="'+_address+'"]').parents(".depth2-item").find(".depth2-link").addClass("is-opened");
    $('.gnb .depth1-item li .depth3-link[href="'+_address+'"]').addClass("is-opened");

    // 링크값이 gnb에 없을 경우 강제 active
    if ( _address === "/manage/framework_csrSend.do" ) { //CSR 의견 보내기
        $('.gnb .depth1-item li .depth2-link[href="/view/manage/policy.do"]').addClass("is-opened");
        $('.gnb .depth1-item li .depth3-link[href="/view/manage/framework.do"]').addClass("is-opened");
    } else if ( _address === "/view/manage/redconnect.do" || _address === "/view/manage/redconnect/detail.do" ) { //레드커넥트
        $('.gnb .depth1-item li .depth2-link[href="/view/manage/csr.do"]').addClass("is-opened");
    } else if ( _address === "/investor/lib/elec_detail.do" ) { //전자공고
        $('.gnb .depth1-group .depth2-group .depth2-item .depth2-link[href="/investor/lib/elec_notice.do"]').addClass("is-opened");
    }

    //인재채용(GNB) 클릭 시 비 활성화 mib2019 추가
    $('html[lang="ko"] .navigation-gnb-d1-list[data-d1="d1-list05"]').on('click',function(){$(this).removeClass('is-active')});

    if(strPath != ""){

        $("#gnbNavi").load(strPath, function(response, status, xhr){

            compPath = location.pathname.replace(".do", "");
            if(compPath.indexOf("_") > 0){
                compPath = compPath.split("_");
                compPath = compPath[0];
            }
            //LNB 활성화
            $(".nav-inner > ul > li").each(function(){
                var strlink = "";
                innerli = $(this);
                
                if(innerli.hasClass("sub-item")){//서브메뉴 있을 경우
                    innerli.children(".nav-sub-menu").children("li").each(function(){
                        strlink = $(this).children("a").attr("href");

                        if(!strlink.isEmpty() && (strlink.indexOf(compPath) >= 0) ){
                            innerli.addClass("active");
                        }
                    });
                }else{//서브메뉴 없을 경우
                    strlink = innerli.children("a").attr("href");
                    if(!strlink.isEmpty() && (strlink.indexOf(compPath) >= 0)){
                        innerli.addClass("active");
                    }
                }

            });

            // page nav
            $('.nav .nav-menu > li.sub-item a').on('mouseenter focusin', function() {
                var p = $(this).closest('li');
                p.find('.nav-sub-menu').slideDown(200);
                p.addClass('expanded');
            });
            $('.nav .nav-menu > li a').on('focusin', function() {
                var p = $(this).closest('li');
                p.siblings('li').removeClass('expanded').find('.nav-sub-menu').slideUp(200);
            });
            $('.nav .nav-menu > li.sub-item').mouseleave(function() {
                $(this).find('.nav-sub-menu').slideUp(200);
                $(this).removeClass('expanded');
            });
            $('.nav .nav-menu > li:first-child a').keydown(function(e) {
                if (e.which == 9 && e.shiftKey && $(this).parent().hasClass('sub-item')) {
                    var p = $(this).parent();
                    p.find('.nav-sub-menu').slideUp(200);
                    p.removeClass('expanded');
                }
            });
            $('.nav .nav-menu > li:last-child ul > li:last-child').keydown(function(e) {
                if (e.which == 9 && e.shiftKey) {
                    // do nothing
                } else if (e.which == 9) {
                    var p = $(this).closest('li.sub-item');
                    p.find('.nav-sub-menu').slideUp(200);
                    p.removeClass('expanded');
                }
            });
            $('body').bind('click touchstart', function(e) {
                var sm = $('.nav .nav-menu').find('.sub-item');
                if(!($(e.target).closest('.sub-item').length > 0) && sm.hasClass('expanded')) {
                    sm.find('.nav-sub-menu').slideUp(200);
                    sm.removeClass('expanded');
                }
            });
            //- page nav

            netfunnelSetting();

        });


    }


    if(strPath == ""){
        $("#gnbNavi").remove();
        netfunnelSetting();
    }

}

function gnbInit(){
    $("#gnbCommon").load("/html/common/gnb.html"+randomNum, function(){
        navInit();
        sideInit();
        footerInit();

    });
}

function sideInit(){

    if ( location.pathname.indexOf("investor")  > 0 ) {
        $("#investorsidemenu").load("/html/common/investorsidemenu.html");
    }

}

function footerInit(){
    $("#footerCommon").load("/html/common/footer.html"+randomNum, function(){
        layoutJsInit(jQuery, window, document);
        $('a[data-galabel]').gaClickCount();

        var _ww = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        $.settingContainerPadding();
        $(window).resize(function() {
            var _newWw = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
            if(_ww !== _newWw) {
                $.settingContainerPadding();
                _ww = _newWw;
            }
            if(!$('html').hasClass('device-type-desktop')) {
                $(window).on('orientationchange', function() {
                    _ww = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
                });
            }
        });


    });
}

//mib200617 meta 변경
$('meta[name="viewport"]').attr('content','width=device-width,user-scalable=yes');
